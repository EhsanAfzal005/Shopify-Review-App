<div id="mean3-reviews-container" data-product-id="{{ product.id }}">
  <h2>Customer Reviews</h2>
  <div id="mean3-reviews-list">
    <p>Loading reviews...</p>
  </div>
  
  <div id="mean3-review-form-container">
    <h3>Write a Review</h3>
    <form id="mean3-review-form">
      <input type="hidden" name="productId" value="{{ product.id }}">
      
      <div class="form-group">
        <label for="rating">Rating</label>
        <select name="rating" id="rating" required>
          <option value="5">5 Stars</option>
          <option value="4">4 Stars</option>
          <option value="3">3 Stars</option>
          <option value="2">2 Stars</option>
          <option value="1">1 Star</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="customerName">Name</label>
        <input type="text" name="customerName" id="customerName" required placeholder="Your Name">
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" name="email" id="email" required placeholder="your@email.com">
      </div>
      
      <div class="form-group">
        <label for="comment">Review</label>
        <textarea name="comment" id="comment" required placeholder="Share your experience"></textarea>
      </div>
      
      <button type="submit">Submit Review</button>
    </form>
    <div id="mean3-form-message"></div>
  </div>
</div>

<script src="{{ 'reviews.js' | asset_url }}" defer></script>
<link rel="stylesheet" href="{{ 'reviews.css' | asset_url }}">

<style>
  #mean3-reviews-container {
    --mean3-star-color: {{ block.settings.star_color }};
    --mean3-button-bg: {{ block.settings.button_bg }};
    --mean3-button-text: {{ block.settings.button_text }};
    --mean3-text-color: {{ block.settings.text_color }};
    --mean3-primary-color: {{ block.settings.primary_color }};
  }
</style>

{% schema %}
{
  "name": "Customer Reviews",
  "target": "section",
  "settings": [
    {
      "type": "color",
      "id": "star_color",
      "label": "Star Rating Color",
      "default": "#ffce00"
    },
    {
      "type": "color",
      "id": "button_bg",
      "label": "Button Background Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_text",
      "label": "Button Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#333333"
    },
     {
      "type": "color",
      "id": "primary_color",
      "label": "Primary/Accent Color",
      "default": "#000000"
    }
  ]
}
{% endschema %}
